<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K·ª∑ Ni·ªám 1 NƒÉm Y√™u Nhau - 365 Ng√†y H·∫°nh Ph√∫c</title>
    <meta name="theme-color" content="#ff4d8d">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <style>
        :root {
            --primary: #ff4d8d;
            --secondary: #ff8ab5;
            --accent: #ffd700;
            --purple: #d8b4fe;
            --blue: #a5b4fc;
            --dark: #2b2230;
            --light: #fff0f5;
            --success: #7bd555;
            --danger: #ff4757;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a0b1e 50%, #2d0b28 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Background layers */
        .bg-layer-1 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(255, 77, 141, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 80%, rgba(216, 180, 254, 0.1) 0%, transparent 50%);
            z-index: -3;
            animation: bgPulse 8s ease-in-out infinite alternate;
        }
        
        .bg-layer-2 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(0deg, transparent 0px, rgba(255, 255, 255, 0.03) 1px, transparent 2px),
                repeating-linear-gradient(90deg, transparent 0px, rgba(255, 255, 255, 0.03) 1px, transparent 2px);
            z-index: -2;
            animation: gridMove 20s linear infinite;
        }
        
        @keyframes bgPulse {
            0% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        @keyframes gridMove {
            0% { transform: translateY(0); }
            100% { transform: translateY(10px); }
        }
        
        /* Countdown Screen */
        #countdown-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a0b1e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1s ease;
        }
        
        .countdown-container {
            text-align: center;
            padding: 2rem;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-width: 500px;
            width: 90%;
        }
        
        .countdown-title {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
        }
        
        .countdown-number {
            font-size: 8rem;
            font-weight: 900;
            text-shadow: 0 0 30px currentColor;
            line-height: 1;
            margin: 1rem 0;
            animation: pulse 1s ease infinite;
        }
        
        #count-3 { color: var(--danger); }
        #count-2 { color: var(--accent); }
        #count-1 { color: var(--success); }
        
        .countdown-text {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 1rem;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Main content */
        #main-content {
            opacity: 0;
            transition: opacity 2s ease;
        }
        
        .main-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-top: 5rem;
            padding-bottom: 3rem;
        }
        
        /* Header */
        .main-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .anniversary-title {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--accent), var(--purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(255, 77, 141, 0.3);
        }
        
        .anniversary-subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 0.5rem;
        }
        
        .date-display {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            margin-top: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Heart Container */
        .heart-main-container {
            position: relative;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
        }
        
        .floating-heart {
            width: 200px;
            height: 200px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            position: relative;
            transform: rotate(45deg);
            border-radius: 20px;
            box-shadow: 
                0 0 50px var(--primary),
                0 0 100px rgba(255, 77, 141, 0.5),
                inset 0 0 20px rgba(255, 255, 255, 0.3);
            animation: heartbeat 1.2s ease-in-out infinite;
            z-index: 5;
        }
        
        .floating-heart:before,
        .floating-heart:after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border-radius: 50%;
        }
        
        .floating-heart:before {
            left: -100px;
            top: 0;
        }
        
        .floating-heart:after {
            top: -100px;
            left: 0;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: rotate(45deg) scale(1); }
            50% { transform: rotate(45deg) scale(1.1); }
        }
        
        .heart-glow {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            opacity: 0.3;
            filter: blur(20px);
            animation: glowPulse 2s ease-in-out infinite alternate;
            z-index: 4;
        }
        
        @keyframes glowPulse {
            0% { transform: scale(0.8); opacity: 0.2; }
            100% { transform: scale(1.2); opacity: 0.4; }
        }
        
        /* Message Section */
        .message-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin: 2rem 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .message-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--purple));
        }
        
        .message-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
            text-align: center;
        }
        
        .love-message {
            font-size: 1.3rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            text-align: center;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .typing-cursor {
            display: inline-block;
            width: 3px;
            height: 1.5rem;
            background: linear-gradient(180deg, var(--primary), var(--accent));
            margin-left: 5px;
            vertical-align: middle;
            animation: cursorBlink 1s infinite;
        }
        
        @keyframes cursorBlink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        /* Controls */
        .controls-container {
            margin: 2rem 0;
        }
        
        .btn-custom {
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            border: none;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }
        
        .btn-custom:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }
        
        .btn-custom:active {
            transform: translateY(0);
        }
        
        .btn-primary-custom {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-secondary-custom {
            background: linear-gradient(45deg, var(--accent), #ffed4e);
            color: #8a6500;
        }
        
        .btn-tertiary-custom {
            background: linear-gradient(45deg, var(--purple), #c084fc);
            color: white;
        }
        
        /* Effect Controls */
        .effect-controls {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1rem;
            margin: 1.5rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .effect-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0;
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }
        
        /* Footer */
        .main-footer {
            text-align: center;
            margin-top: 3rem;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        
        /* Particle containers */
        #hearts-container, #photos-container, #confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .anniversary-title {
                font-size: 2.5rem;
            }
            
            .anniversary-subtitle {
                font-size: 1.2rem;
            }
            
            .floating-heart {
                width: 150px;
                height: 150px;
            }
            
            .floating-heart:before,
            .floating-heart:after {
                width: 150px;
                height: 150px;
            }
            
            .floating-heart:before {
                left: -75px;
            }
            
            .floating-heart:after {
                top: -75px;
            }
            
            .countdown-number {
                font-size: 6rem;
            }
            
            .message-title {
                font-size: 1.5rem;
            }
            
            .love-message {
                font-size: 1.1rem;
            }
            
            .btn-custom {
                width: 100%;
                margin-bottom: 0.5rem;
            }
        }
        
        @media (max-width: 576px) {
            .anniversary-title {
                font-size: 2rem;
            }
            
            .countdown-number {
                font-size: 4.5rem;
            }
            
            .countdown-title {
                font-size: 2rem;
            }
        }
        
        /* Custom animations */
        .animate__delay-1s {
            animation-delay: 1s;
        }
        
        .animate__delay-2s {
            animation-delay: 2s;
        }
        
        .animate__delay-3s {
            animation-delay: 3s;
        }
    </style>
</head>
<body>
    <!-- Background layers -->
    <div class="bg-layer-1"></div>
    <div class="bg-layer-2"></div>
    
    <!-- Countdown Screen -->
    <div id="countdown-screen">
        <div class="countdown-container">
            <h1 class="countdown-title">Chu·∫©n b·ªã cho b·∫•t ng·ªù</h1>
            <div id="countdown">
                <div id="count-3" class="countdown-number">3</div>
                <div id="count-2" class="countdown-number d-none">2</div>
                <div id="count-1" class="countdown-number d-none">1</div>
            </div>
            <p class="countdown-text">Trang web k·ª∑ ni·ªám 1 nƒÉm y√™u nhau s·∫Øp hi·ªán ra...</p>
        </div>
    </div>
    
    <!-- Main Content -->
    <div id="main-content">
        <div class="container main-container">
            <!-- Header -->
            <header class="main-header">
                <h1 class="anniversary-title animate__animated animate__fadeInDown">
                    365 Ng√†y Y√™u Th∆∞∆°ng
                </h1>
                <p class="anniversary-subtitle animate__animated animate__fadeInUp animate__delay-1s">
                    K·ª∑ ni·ªám 1 nƒÉm b√™n nhau üíñ
                </p>
                <div class="date-display animate__animated animate__fadeIn animate__delay-2s">
                    <span><i class="fas fa-calendar-alt me-2"></i>12/12/2023 - 12/12/2024</span>
                    <span class="mx-2">‚Ä¢</span>
                    <span><i class="fas fa-heart me-2"></i>8760 gi·ªù h·∫°nh ph√∫c</span>
                </div>
            </header>
            
            <!-- Heart Container -->
            <div class="heart-main-container">
                <div class="heart-glow"></div>
                <div class="floating-heart"></div>
            </div>
            
            <!-- Message Section -->
            <div class="message-container animate__animated animate__fadeInUp animate__delay-3s">
                <h2 class="message-title">
                    <i class="fas fa-quote-left me-2"></i>
                    G·ª≠i ng∆∞·ªùi anh y√™u nh·∫•t
                    <i class="fas fa-quote-right ms-2"></i>
                </h2>
                <div class="love-message">
                    <span id="typed-text"></span>
                    <span class="typing-cursor"></span>
                </div>
            </div>
            
            <!-- Effect Controls -->
            <div class="effect-controls animate__animated animate__fadeIn animate__delay-1s">
                <div class="row">
                    <div class="col-md-4">
                        <div class="effect-toggle">
                            <span><i class="fas fa-heart me-2"></i>Tr√°i tim r∆°i</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggle-hearts" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="effect-toggle">
                            <span><i class="fas fa-images me-2"></i>·∫¢nh r∆°i</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggle-photos" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="effect-toggle">
                            <span><i class="fas fa-fire me-2"></i>Ph√°o hoa</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggle-confetti" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Controls -->
            <div class="controls-container">
                <div class="row g-3">
                    <div class="col-lg-3 col-md-6">
                        <button id="btn-fireworks" class="btn btn-custom btn-primary-custom">
                            <i class="fas fa-fire"></i> Ph√°o Hoa ƒê·∫°i
                        </button>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <button id="btn-hearts" class="btn btn-custom btn-secondary-custom">
                            <i class="fas fa-heart"></i> M∆∞a Tr√°i Tim
                        </button>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <button id="btn-photos" class="btn btn-custom btn-tertiary-custom">
                            <i class="fas fa-images"></i> M∆∞a ·∫¢nh
                        </button>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <button id="btn-change-message" class="btn btn-custom btn-primary-custom">
                            <i class="fas fa-sync-alt"></i> ƒê·ªïi L·ªùi Nh·∫Øn
                        </button>
                    </div>
                    <div class="col-lg-6 col-md-12 mt-3">
                        <button id="btn-all-effects" class="btn btn-custom btn-secondary-custom w-100">
                            <i class="fas fa-magic"></i> K√≠ch Ho·∫°t T·∫•t C·∫£ Hi·ªáu ·ª®ng
                        </button>
                    </div>
                    <div class="col-lg-6 col-md-12 mt-3">
                        <button id="btn-share" class="btn btn-custom btn-tertiary-custom w-100">
                            <i class="fas fa-share-alt"></i> Chia S·∫ª T√¨nh Y√™u
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <footer class="main-footer animate__animated animate__fadeIn animate__delay-2s">
                <p>Trang web ƒë∆∞·ª£c t·∫°o v·ªõi t√¨nh y√™u d√†nh cho k·ª∑ ni·ªám 1 nƒÉm y√™u nhau üíñ</p>
                <p class="mt-2">K√©o/nghi√™ng m√†n h√¨nh ƒë·ªÉ xem hi·ªáu ·ª©ng 3D | Ch·∫°m v√†o c√°c n√∫t ƒë·ªÉ kh√°m ph√°</p>
            </footer>
        </div>
    </div>
    
    <!-- Particle Containers -->
    <div id="hearts-container"></div>
    <div id="photos-container"></div>
    <div id="confetti-container"></div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- GSAP for advanced animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    
    <script>
        // ========== KH·ªûI T·∫†O ==========
        let effectsActive = true;
        let heartsInterval, photosInterval, confettiInterval;
        
        // ========== COUNTDOWN ==========
        function startCountdown() {
            const countdownScreen = document.getElementById('countdown-screen');
            const count3 = document.getElementById('count-3');
            const count2 = document.getElementById('count-2');
            const count1 = document.getElementById('count-1');
            const mainContent = document.getElementById('main-content');
            
            // ·∫®n t·∫•t c·∫£ s·ªë ban ƒë·∫ßu
            [count2, count1].forEach(el => el.classList.add('d-none'));
            
            // Hi·ªáu ·ª©ng s·ªë 3
            setTimeout(() => {
                count3.classList.remove('d-none');
                count3.classList.add('animate__animated', 'animate__pulse');
                
                // Hi·ªáu ·ª©ng s·ªë 2
                setTimeout(() => {
                    count3.classList.add('d-none');
                    count2.classList.remove('d-none');
                    count2.classList.add('animate__animated', 'animate__pulse');
                    
                    // Hi·ªáu ·ª©ng s·ªë 1
                    setTimeout(() => {
                        count2.classList.add('d-none');
                        count1.classList.remove('d-none');
                        count1.classList.add('animate__animated', 'animate__pulse');
                        
                        // K·∫øt th√∫c countdown
                        setTimeout(() => {
                            countdownScreen.style.opacity = '0';
                            
                            // Hi·ªÉn th·ªã n·ªôi dung ch√≠nh
                            setTimeout(() => {
                                countdownScreen.style.display = 'none';
                                mainContent.style.opacity = '1';
                                
                                // Kh·ªüi ƒë·ªông hi·ªáu ·ª©ng
                                initAllEffects();
                                typeMessage();
                                startAutoEffects();
                            }, 1000);
                        }, 1000);
                    }, 1000);
                }, 1000);
            }, 500);
        }
        
        // ========== HI·ªÜU ·ª®NG TR√ÅI TIM R∆†I ==========
        function initHeartsEffect() {
            const container = document.getElementById('hearts-container');
            
            heartsInterval = setInterval(() => {
                if (!effectsActive || !document.getElementById('toggle-hearts').checked) return;
                
                createFallingHeart(container);
            }, 300);
        }
        
        function createFallingHeart(container) {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.position = 'absolute';
            heart.style.fontSize = Math.random() * 30 + 20 + 'px';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.top = '-50px';
            heart.style.opacity = Math.random() * 0.7 + 0.3;
            heart.style.zIndex = '2';
            heart.style.filter = `hue-rotate(${Math.random() * 60}deg)`;
            heart.style.textShadow = `0 0 20px rgba(255, 77, 141, 0.8)`;
            
            container.appendChild(heart);
            
            // Animation r∆°i v·ªõi GSAP
            gsap.to(heart, {
                y: window.innerHeight + 100,
                rotation: Math.random() * 360,
                duration: Math.random() * 3 + 4,
                ease: "power1.in",
                onComplete: () => heart.remove()
            });
            
            // Animation opacity
            gsap.to(heart, {
                opacity: 0,
                duration: Math.random() * 2 + 2,
                delay: Math.random() * 2
            });
        }
        
        // ========== HI·ªÜU ·ª®NG ·∫¢NH R∆†I ==========
        function initPhotosEffect() {
            const container = document.getElementById('photos-container');
            const photos = [
                'üñºÔ∏è', 'üì∏', 'üì∑', 'üéûÔ∏è', 'üñºÔ∏è', 'üñºÔ∏è', 'üì∏', 'üì∑'
            ];
            
            photosInterval = setInterval(() => {
                if (!effectsActive || !document.getElementById('toggle-photos').checked) return;
                
                createFallingPhoto(container, photos);
            }, 1500);
        }
        
        function createFallingPhoto(container, photos) {
            const photo = document.createElement('div');
            const randomPhoto = photos[Math.floor(Math.random() * photos.length)];
            photo.innerHTML = randomPhoto;
            photo.style.position = 'absolute';
            photo.style.fontSize = Math.random() * 40 + 30 + 'px';
            photo.style.left = Math.random() * 100 + 'vw';
            photo.style.top = '-100px';
            photo.style.opacity = Math.random() * 0.6 + 0.4;
            photo.style.zIndex = '1';
            photo.style.filter = `hue-rotate(${Math.random() * 180}deg)`;
            photo.style.textShadow = `0 0 25px rgba(255, 215, 0, 0.7)`;
            
            container.appendChild(photo);
            
            // Animation r∆°i v·ªõi xoay
            gsap.to(photo, {
                y: window.innerHeight + 200,
                rotation: Math.random() * 720,
                duration: Math.random() * 5 + 6,
                ease: "power1.in",
                onComplete: () => photo.remove()
            });
            
            // Animation l·∫Øc qua l·∫°i
            gsap.to(photo, {
                x: '+=100',
                duration: 1,
                repeat: -1,
                yoyo: true,
                ease: "sine.inOut"
            });
        }
        
        // ========== HI·ªÜU ·ª®NG PH√ÅO HOA ==========
        function initConfettiEffect() {
            const container = document.getElementById('confetti-container');
            
            confettiInterval = setInterval(() => {
                if (!effectsActive || !document.getElementById('toggle-confetti').checked) return;
                
                // T·ª± ƒë·ªông t·∫°o ph√°o hoa
                if (Math.random() > 0.5) {
                    createFirework(container);
                }
            }, 2000);
        }
        
        function createFirework(container, x = null, y = null) {
            const centerX = x || Math.random() * window.innerWidth;
            const centerY = y || Math.random() * window.innerHeight * 0.5;
            
            // T·∫°o t√¢m ph√°o hoa
            const center = document.createElement('div');
            center.style.position = 'absolute';
            center.style.left = centerX + 'px';
            center.style.top = centerY + 'px';
            center.style.width = '10px';
            center.style.height = '10px';
            center.style.background = getRandomColor();
            center.style.borderRadius = '50%';
            center.style.boxShadow = `0 0 20px ${getRandomColor()}`;
            center.style.zIndex = '3';
            
            container.appendChild(center);
            
            // Animation t√¢m ph√°o hoa
            gsap.to(center, {
                scale: 5,
                opacity: 0,
                duration: 0.5,
                onComplete: () => {
                    center.remove();
                    createExplosion(centerX, centerY, container);
                }
            });
        }
        
        function createExplosion(x, y, container) {
            const particleCount = 60;
            const colors = ['#ff4d8d', '#ffd700', '#d8b4fe', '#a5b4fc', '#ff9ac2', '#ffffff', '#7bd555'];
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.width = Math.random() * 12 + 6 + 'px';
                particle.style.height = Math.random() * 12 + 6 + 'px';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                particle.style.borderRadius = Math.random() > 0.5 ? '50%' : '0%';
                particle.style.opacity = '1';
                particle.style.zIndex = '2';
                particle.style.boxShadow = `0 0 10px currentColor`;
                
                container.appendChild(particle);
                
                // Animation ph√¢n t√°n
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 200 + 100;
                const duration = Math.random() * 1.5 + 1;
                
                gsap.to(particle, {
                    x: Math.cos(angle) * distance,
                    y: Math.sin(angle) * distance + 0.5 * 0.1 * duration * duration * 100,
                    rotation: Math.random() * 720,
                    opacity: 0,
                    duration: duration,
                    ease: "power2.out",
                    onComplete: () => particle.remove()
                });
            }
        }
        
        function getRandomColor() {
            const colors = ['#ff4d8d', '#ffd700', '#d8b4fe', '#a5b4fc', '#ff9ac2', '#ffffff'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // ========== HI·ªÜU ·ª®NG G√ï CH·ªÆ ==========
        async function typeText(el, text, speed = 30) {
            el.textContent = "";
            const chars = [...text];
            for (let i = 0; i < chars.length; i++) {
                el.textContent += chars[i];
                await new Promise(r => setTimeout(r, speed + Math.random() * 10));
                
                // Hi·ªáu ·ª©ng √¢m thanh g√µ ch·ªØ
                if (i % 5 === 0) {
                    createTypeSound();
                }
            }
        }
        
        function createTypeSound() {
            // T·∫°o hi·ªáu ·ª©ng √¢m thanh tr·ª±c quan
            const soundIndicator = document.createElement('div');
            soundIndicator.style.position = 'fixed';
            soundIndicator.style.bottom = '20px';
            soundIndicator.style.right = '20px';
            soundIndicator.style.width = '10px';
            soundIndicator.style.height = '10px';
            soundIndicator.style.background = 'rgba(255, 215, 0, 0.7)';
            soundIndicator.style.borderRadius = '50%';
            soundIndicator.style.zIndex = '1000';
            soundIndicator.style.opacity = '0';
            
            document.body.appendChild(soundIndicator);
            
            gsap.to(soundIndicator, {
                scale: 2,
                opacity: 1,
                duration: 0.1,
                yoyo: true,
                repeat: 1,
                onComplete: () => soundIndicator.remove()
            });
        }
        
        function getMessage() {
            const urlParams = new URLSearchParams(window.location.search);
            const customMsg = urlParams.get('m');
            return customMsg || "Ch√∫c m·ª´ng k·ª∑ ni·ªám 1 nƒÉm y√™u nhau c·ªßa ch√∫ng ta! 365 ng√†y qua b√™n em l√† nh·ªØng ng√†y h·∫°nh ph√∫c nh·∫•t cu·ªôc ƒë·ªùi anh. C·∫£m ∆°n em ƒë√£ ƒë·∫øn b√™n anh, c√πng anh chia s·∫ª m·ªçi ni·ªÅm vui n·ªói bu·ªìn. Anh y√™u em nhi·ªÅu h∆°n nh·ªØng g√¨ em c√≥ th·ªÉ t∆∞·ªüng t∆∞·ª£ng! M·ªói ng√†y b√™n em l√† m·ªôt m√≥n qu√† qu√Ω gi√°, v√† anh h·ª©a s·∫Ω tr√¢n tr·ªçng t·ª´ng gi√¢y ph√∫t b√™n em. H√£y c√πng nhau vi·∫øt ti·∫øp nh·ªØng ch∆∞∆°ng m·ªõi trong c√¢u chuy·ªán t√¨nh y√™u c·ªßa ch√∫ng ta nh√©! üíñ";
        }
        
        async function typeMessage() {
            const message = getMessage();
            await typeText(document.getElementById('typed-text'), message, 25);
        }
        
        // ========== HI·ªÜU ·ª®NG T∆Ø∆†NG T√ÅC ==========
        function setupEventListeners() {
            // N√∫t Ph√°o Hoa ƒê·∫°i
            document.getElementById('btn-fireworks').addEventListener('click', () => {
                const container = document.getElementById('confetti-container');
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        createFirework(container, 
                            Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1,
                            Math.random() * window.innerHeight * 0.4 + window.innerHeight * 0.1
                        );
                    }, i * 200);
                }
                
                // Hi·ªáu ·ª©ng rung m√†n h√¨nh
                gsap.to('body', {
                    x: 10,
                    duration: 0.05,
                    yoyo: true,
                    repeat: 5,
                    ease: "power1.inOut"
                });
            });
            
            // N√∫t M∆∞a Tr√°i Tim
            document.getElementById('btn-hearts').addEventListener('click', () => {
                const container = document.getElementById('hearts-container');
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => createFallingHeart(container), i * 50);
                }
            });
            
            // N√∫t M∆∞a ·∫¢nh
            document.getElementById('btn-photos').addEventListener('click', () => {
                const container = document.getElementById('photos-container');
                const photos = ['üñºÔ∏è', 'üì∏', 'üì∑', 'üéûÔ∏è'];
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => createFallingPhoto(container, photos), i * 100);
                }
            });
            
            // N√∫t ƒê·ªïi L·ªùi Nh·∫Øn
            document.getElementById('btn-change-message').addEventListener('click', async () => {
                const messages = [
                    "Em l√† √°nh s√°ng trong cu·ªôc ƒë·ªùi anh, l√† l√Ω ƒë·ªÉ anh th·ª©c d·∫≠y m·ªói s√°ng v·ªõi n·ª• c∆∞·ªùi. C·∫£m ∆°n em v√¨ 1 nƒÉm tuy·ªát v·ªùi b√™n c·∫°nh! üíï",
                    "365 ng√†y tr√¥i qua th·∫≠t nhanh khi b√™n c·∫°nh em. M·ªói kho·∫£nh kh·∫Øc ƒë·ªÅu ƒë√°ng nh·ªõ, m·ªói k·ª∑ ni·ªám ƒë·ªÅu qu√Ω gi√°. Anh y√™u em h√¥m nay, ng√†y mai v√† m√£i m√£i! üåπ",
                    "T·ª´ ng√†y c√≥ em, cu·ªôc s·ªëng c·ªßa anh tr√†n ng·∫≠p m√†u h·ªìng. C·∫£m ∆°n em ƒë√£ l√† m·ªôt n·ª≠a ho√†n h·∫£o c·ªßa anh. Ch√∫c m·ª´ng 1 nƒÉm y√™u nhau, t√¨nh y√™u c·ªßa anh! üåü",
                    "M·ªôt nƒÉm y√™u th∆∞∆°ng, m·ªôt nƒÉm h·∫°nh ph√∫c, m·ªôt nƒÉm c√πng nhau v∆∞·ª£t qua th·ª≠ th√°ch. Anh kh√¥ng th·ªÉ ch·ªù ƒë·ª£i ƒë·ªÉ d√†nh c·∫£ ƒë·ªùi b√™n c·∫°nh em. Em l√† t·∫•t c·∫£ v·ªõi anh! üíñ"
                ];
                
                const randomMsg = messages[Math.floor(Math.random() * messages.length)];
                document.getElementById('typed-text').textContent = "";
                await typeText(document.getElementById('typed-text'), randomMsg, 20);
            });
            
            // N√∫t K√≠ch Ho·∫°t T·∫•t C·∫£
            document.getElementById('btn-all-effects').addEventListener('click', () => {
                // B·∫≠t t·∫•t c·∫£ toggle
                document.getElementById('toggle-hearts').checked = true;
                document.getElementById('toggle-photos').checked = true;
                document.getElementById('toggle-confetti').checked = true;
                
                // K√≠ch ho·∫°t t·∫•t c·∫£ hi·ªáu ·ª©ng
                const heartsContainer = document.getElementById('hearts-container');
                const photosContainer = document.getElementById('photos-container');
                const confettiContainer = document.getElementById('confetti-container');
                const photos = ['üñºÔ∏è', 'üì∏', 'üì∑', 'üéûÔ∏è'];
                
                // Tr√°i tim
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => createFallingHeart(heartsContainer), i * 50);
                }
                
                // ·∫¢nh
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => createFallingPhoto(photosContainer, photos), i * 100);
                }
                
                // Ph√°o hoa
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        createFirework(confettiContainer, 
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight * 0.5
                        );
                    }, i * 300);
                }
                
                // Hi·ªáu ·ª©ng rung to√†n b·ªô
                gsap.to('.heart-main-container', {
                    scale: 1.3,
                    duration: 0.5,
                    yoyo: true,
                    repeat: 1,
                    ease: "power2.inOut"
                });
            });
            
            // N√∫t Chia S·∫ª
            document.getElementById('btn-share').addEventListener('click', async () => {
                const text = "üíñ Ch√∫c m·ª´ng k·ª∑ ni·ªám 1 nƒÉm y√™u nhau! 365 ng√†y h·∫°nh ph√∫c b√™n nhau ü•≥ Xem trang web ƒë·∫∑c bi·ªát t·∫°i: ";
                const url = window.location.href;
                
                try {
                    if (navigator.share) {
                        await navigator.share({
                            title: 'K·ª∑ ni·ªám 1 nƒÉm y√™u nhau',
                            text: text,
                            url: url
                        });
                    } else {
                        await navigator.clipboard.writeText(text + url);
                        alert('ƒê√£ sao ch√©p li√™n k·∫øt! B·∫°n c√≥ th·ªÉ chia s·∫ª n√≥ b√¢y gi·ªù.');
                    }
                } catch (err) {
                    console.log('L·ªói chia s·∫ª:', err);
                }
            });
            
            // C√¥ng t·∫Øc hi·ªáu ·ª©ng
            ['toggle-hearts', 'toggle-photos', 'toggle-confetti'].forEach(id => {
                document.getElementById(id).addEventListener('change', (e) => {
                    effectsActive = e.target.checked || 
                                   document.getElementById('toggle-hearts').checked || 
                                   document.getElementById('toggle-photos').checked || 
                                   document.getElementById('toggle-confetti').checked;
                });
            });
        }
        
        // ========== HI·ªÜU ·ª®NG T·ª∞ ƒê·ªòNG ==========
        function startAutoEffects() {
            // T·ª± ƒë·ªông t·∫°o hi·ªáu ·ª©ng sau khi countdown
            setTimeout(() => {
                // M∆∞a tr√°i tim ban ƒë·∫ßu
                const heartsContainer = document.getElementById('hearts-container');
                for (let i = 0; i < 15; i++) {
                    setTimeout(() => createFallingHeart(heartsContainer), i * 200);
                }
                
                // Ph√°o hoa ban ƒë·∫ßu
                const confettiContainer = document.getElementById('confetti-container');
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createFirework(confettiContainer, 
                            Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1,
                            Math.random() * window.innerHeight * 0.3
                        );
                    }, i * 500);
                }
            }, 1000);
        }
        
        // ========== KH·ªûI ƒê·ªòNG T·∫§T C·∫¢ ==========
        function initAllEffects() {
            initHeartsEffect();
            initPhotosEffect();
            initConfettiEffect();
            setupEventListeners();
        }
        
        // ========== B·∫ÆT ƒê·∫¶U KHI T·∫¢I TRANG ==========
        document.addEventListener('DOMContentLoaded', () => {
            // B·∫Øt ƒë·∫ßu countdown
            startCountdown();
        });
    </script>
</body>
</html>
